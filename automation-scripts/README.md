# Процесс-менеджер на Bash [auto_check_procces.sh](./auto_check_procces.sh)

Этот скрипт на Bash автоматизирует мониторинг состояния процессов в системе, используя `systemctl` для проверки активности процесса и получения информации о его PID и потреблении памяти. Скрипт помогает системным администраторам или пользователям получать важную информацию о процессе без необходимости вручную проверять его состояние.

## Описание

Скрипт выполняет следующие задачи:
1. Запрашивает у пользователя имя процесса.
2. Проверяет, активен ли процесс с использованием `systemctl`.
3. Получает информацию о PID процесса.
4. Извлекает данные о потреблении памяти процессом.
5. Выводит полученную информацию в понятном виде.

## Установка

<details>
<summary>Нажмите, чтобы развернуть установку</summary>
1. Скачайте или клонируйте репозиторий:

```bash
git clone https://github.com/BobretsovIM/devops-practice.git
```
2. Перейдите в папку с проектом:

```bash
cd devops-practice/automation-scrips
```
3. Дайте права на выполнение скрипта:

```bash
chmod +x auto_check_procces.sh
```
## Использование:
1. Запустите скрипт:

```bash
./auto_check_procces.sh
```
2 .Введите имя процесса (например, nginx или apache2) при запросе. Скрипт проверит, активен ли процесс, и отобразит его PID и использование памяти.
</details>

## Пример вывода:

```bash
Введите имя процесса (пример: nginx): nginx
Процесс 'nginx' запущен.
Информация:
PID процесса: 1234
Потребление памяти: 12345 КБ
```

# Скрипт установки и запуска NGINX [auto_install_nginx.sh](./auto_install_nginx.sh)

Этот скрипт на Bash предназначен для автоматической установки и запуска веб-сервера NGINX на сервере. Скрипт проверяет, установлен ли сервис NGINX, и если он не установлен или не работает, выполняет его установку и запуск.

## Описание

Скрипт выполняет следующие шаги:

1. Проверяет статус сервиса NGINX с помощью команды `systemctl is-active nginx`.
2. Если NGINX уже установлен и запущен, выводится сообщение о том, что сервис работает.
3. Если NGINX не установлен или не работает, скрипт:
    - Обновляет репозитории пакетов с помощью `sudo apt update`.
    - Устанавливает NGINX с помощью `sudo apt install -y nginx`.
    - Запускает сервис с помощью `sudo systemctl start nginx`.
4. Выводит информацию о статусе NGINX с помощью `systemctl status nginx`.

## Установка

<details>
<summary>Нажмите, чтобы развернуть установку</summary>

1. Скачайте или клонируйте репозиторий:

```bash
git clone https://github.com/BobretsovIM/devops-practice.git
```
2. Перейдите в папку с проектом:

```bash
cd devops-practice/automation-scrips
```
3. Дайте права на выполнение скрипта:

```bash
chmod +x auto_install_nginx.sh
```
## Использование

Запустите скрипт:

```bash

./auto_install_nginx.sh
```
Скрипт автоматически проверит наличие NGINX и выполнит его установку или запуск, если это необходимо.
</details>

## Пример вывода

```
Запускаю установку NGINX...
Hit:1 http://archive.ubuntu.com/ubuntu focal InRelease
...
Запускаю сервис NGINX...
NGINX готов к работе!
● nginx.service - A high performance web server and a reverse proxy server
   Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
   Active: active (running) since Sun 2024-12-01 08:00:00 UTC; 1min ago
   ...
```

# Скрипт резервного копирования [backup_script.sh](./backup_script.sh)

Этот скрипт на Bash предназначен для резервного копирования указанной пользователем директории. Он создает сжатый архив (`.tar.gz`) и сохраняет его в директорию `/home/<пользователь>/backup/`.

## Описание работы

1. Запрашивает у пользователя путь к директории для резервного копирования.
2. Проверяет:
   - Указана ли директория.
   - Существует ли указанная директория.
3. Создает архив с именем в формате `backup_<текущая_дата>.tar.gz`.
4. Сохраняет архив в директорию `/home/<пользователь>/backup/`.
5. Выводит сообщение о результате выполнения.

## Установка и использование
<details>
<summary>Нажмите, чтобы развернуть установку</summary>
1. Скачайте или клонируйте репозиторий:

```bash
git clone https://github.com/BobretsovIM/devops-practice.git
```
Перейдите в директорию скрипта:

```bash
cd devops-practice/automation-scrips
```
Дайте права на выполнение скрипта:

```bash
chmod +x backup_script.sh
```
Запустите скрипт:

```bash
./backup_script.sh
```
Следуйте инструкциям на экране, чтобы указать директорию для резервного копирования.
</details>

## Пример вывода:
```
Введите директорию для резервного копирования: /home/user/documents
Начинаю процесс архивации директории /home/user/documents...
Архивация завершена: backup_02-12-2024.tar.gz.
Целевая директория для бэкапов не существует. Создаю /home/user/backup/...
Перемещаю архив в /home/user/backup/...
Резервное копирование завершено. Архив находится в /home/user/backup/.
```

# Скрипт подсчета файлов в директории [check_dir.sh](./check_dir.sh)

Этот скрипт на Bash проверяет существование указанной директории и подсчитывает количество файлов в ней.

<details>
<summary>Нажмите, чтобы развернуть установку</summary>

## Как использовать

1. Передайте путь к директории как аргумент при вызове скрипта:

```bash
./check_dir.sh <путь_к_директории>
```
Пример:

```bash
./check_dir.sh /home/user/documents
```
Вывод:
```
/home/user/documents существует!
В директории /home/user/documents содержится 12 файлов.
```
Если аргумент не указан:
```
./check_dir.sh
```
Вывод:
```
Ошибка: укажите директорию как аргумент.
Пример: ./script.sh <директория>
```
Если директория не существует:
```
./check_dir.sh /non/existing/path
```
Вывод:
```
Ошибка: Директория /non/existing/path не существует.
```
</details>

# Скрипт для удаления старых файлов [delete_old_file.sh](./delete_old_file.sh)

Этот скрипт на Bash предназначен для поиска и удаления файлов, которые не были изменены более 7 дней, в указанной пользователем директории. Скрипт позволяет автоматизировать процесс очистки от старых ненужных файлов.

## Возможности

- Поиск файлов, которые не изменялись более 7 дней.
- Удаление старых файлов после подтверждения пользователя.
- Проверка существования директории и наличия старых файлов.
- Удобное взаимодействие с пользователем через командную строку.

## Установка

<details>
<summary>Нажмите, чтобы развернуть установку</summary>

1. Скачайте или клонируйте репозиторий.

```bash
git clone https://github.com/BobretsovIM/devops-practice.git
```
Перейдите в директорию с репозиторием и дайте права на выполнение скрипта.

```bash
cd devops-practice/automation-scrips
chmod +x delete_old_files.sh
```
Запустите скрипт:

```bash
./delete_old_files.sh
```
Введите путь к директории, где необходимо найти старые файлы.

Скрипт покажет список файлов старше 7 дней и спросит, хотите ли вы их удалить. Ответьте y, чтобы удалить файлы, или n, чтобы оставить их.
</details>

## Пример вывод:
```
Введите директорию: /path/to/directory
Файлы старше 7 дней:
/path/to/directory/file1
/path/to/directory/file2
Желаете их удалить (y/n)?: y
Удаляем файлы.
Удален: /path/to/directory/file1
Удален: /path/to/directory/file2
```

# Проверка доступности хостов с помощью пинга [monitoring_server.py](./monitoring_server.py)

Этот скрипт на Python проверяет доступность серверов, указанных в файле, с использованием команды `ping` и записывает результаты в лог-файл. Скрипт может быть полезен для мониторинга доступности серверов или других сетевых устройств.

## Описание

- **Файл хостов**: Серверы, которые необходимо пинговать, должны быть указаны в текстовом файле `host_server.txt`. Каждый сервер должен быть на новой строке.
- **Файл логов**: Все результаты пинга записываются в лог-файл, который будет автоматически создан (если не существует). Лог-файл будет содержать дату и время проверки, а также статус каждого сервера.
- **Команда пинга**: Скрипт выполняет команду `ping` с 3 пакетами для каждого сервера, чтобы проверить его доступность.

<details>
<summary>Нажмите, чтобы развернуть установку</summary>
    
## Требования

- Python 3.x
- Доступ к команде `ping` на вашей системе (обычно доступна по умолчанию в Linux и macOS).

## Установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/BobretsovIM/devops-practice.git
```

2. Перейдите в каталог с проектом:

```bash
cd devops-practice/automation-scrips
```

3. Убедитесь, что у вас есть файл host_server.txt, содержащий IP-адреса или доменные имена серверов, которые нужно пинговать. Пример содержимого файла:

```
192.168.1.1
example.com
203.0.113.42
```
## Как использовать

1. Запустите скрипт с помощью Python:

```bash
python3 monitoring_server.py
```
2. Скрипт будет проверять доступность серверов, указанных в host_server.txt, и записывать результаты в файл лога. Лог-файл будет автоматически создан, если его нет. 

## Пример вывода:

```
====2024-12-02 14:30====
Host            Статус
-------------------------
192.168.1.1     Работает!
example.com     Не работает!
203.0.113.42    Работает!
-------------------------
=========КОНЕЦ==========
```
3. Лог-файл будет сохранен в файл ping-host в том же каталоге, где был запущен скрипт.

После того как вы запустите скрипт, он выведет в лог файл информацию о каждом пингуемом хосте, например:
</details>

## Пример вывода:

```
====2024-12-02 14:30====
Host            Статус
-------------------------
192.168.1.1     Работает!
example.com     Не работает!
203.0.113.42    Работает!
-------------------------
=========КОНЕЦ==========
```
